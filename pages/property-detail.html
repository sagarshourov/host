<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>123 Ocean View Drive - You're Home</title>
    <link rel="stylesheet" href="../css/base/variables.css">
    <link rel="stylesheet" href="../css/base/typography.css">
    <link rel="stylesheet" href="../css/components/buttons.css">
    <link rel="stylesheet" href="../css/layout/header.css">
    <link rel="stylesheet" href="../css/main.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="nav-container">
            <div class="logo">
                🏠 <a href="/" style="text-decoration: none; color: inherit;">You're Home</a>
                <div class="tagline">The Future of Real Estate</div>
            </div>
            <nav class="nav-links">
                <a href="/listings.html" class="nav-link">Buy</a>
                <a href="/sell.html" class="nav-link">Sell</a>
                <a href="#" class="nav-link">About</a>
                <a href="#" class="nav-link">Help</a>
                <a href="/login.html" class="nav-link">Log In</a>
                <a href="/list-property.html" class="btn-primary">List Your Property</a>
            </nav>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="breadcrumb-container">
            <a href="index.html" class="breadcrumb-link">Home</a>
            <span>›</span>
            <a href="listings.html" class="breadcrumb-link">Atlantic County, NJ</a>
            <span>›</span>
            <span class="breadcrumb-current">123 Ocean View Drive</span>
        </div>
    </div>

    <!-- Property Detail Container -->
    <div class="property-detail-container">
        <!-- Hero Header -->
        <section class="property-hero">
            <div class="property-hero-image" style="background-image: url('../images/ocean-view.jpg');">
                <div class="property-hero-overlay">
                    <div class="property-hero-text">
                        <h1 class="property-title">$485,000</h1>
                        <p class="property-location">123 Ocean View Drive, Atlantic City, NJ 08401</p>
                        <p class="property-price-hero">Oceanfront • 3 Bed • 2 Bath • 1,850 SqFt</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Photo Gallery -->
        <div class="photo-gallery">
            <div class="main-photo">
                🏖️
                <div class="photo-controls">
                    <button class="photo-btn">📷 All Photos (12)</button>
                    <button class="photo-btn">🎥 Virtual Tour</button>
                </div>
            </div>
            <div class="photo-thumbnails">
                <div class="thumbnail active">🏠</div>
                <div class="thumbnail">🏖️</div>
                <div class="thumbnail">🛏️</div>
                <div class="thumbnail">🍳</div>
                <div class="thumbnail">🛁</div>
                <div class="thumbnail">🌅</div>
                <div class="thumbnail">🏡</div>
                <div class="thumbnail">🌊</div>
            </div>
        </div>

        <!-- Action Bar -->
        <div class="action-bar">
            <div class="action-bar-container">
                <div class="property-actions">
                    <button class="action-btn make-offer-btn disabled" id="makeOfferBtn" disabled>
                        💰 Make Offer
                        <span class="button-tooltip">Upload pre-approval to enable</span>
                    </button>
                    <button class="action-btn message-seller-btn disabled" id="messageBtn" disabled>
                        💬 Message Seller
                        <span class="button-tooltip">Upload pre-approval to enable</span>
                    </button>
                </div>                              
                <div class="secondary-actions-bar">
                    <button class="action-btn-bar tertiary">📅 Schedule Tour</button>
                    <button class="action-btn-bar tertiary">❤️ Save Property</button>
                    <button class="action-btn-bar tertiary">📤 Share</button>
                </div>
            </div>
        </div>

        <!-- Property Content -->
        <div class="property-content">
            <!-- Main Content -->
            <div class="main-content">
                <!-- Property Description -->
                <div class="detail-section">
                    <h2 class="section-title">About this home</h2>
                    <div class="description-text">
                        <p>Welcome to your oceanfront paradise! This stunning 3-bedroom, 2-bathroom home offers breathtaking ocean views and direct beach access. Located on prestigious Ocean View Drive, this property combines coastal charm with modern amenities.</p>
                        
                        <p>The open-concept living area features floor-to-ceiling windows that showcase panoramic ocean views. The gourmet kitchen boasts granite countertops, stainless steel appliances, and a large island perfect for entertaining. The master suite includes a private balcony overlooking the ocean and an en-suite bathroom with a soaking tub.</p>
                        
                        <p>Additional features include a two-car garage, outdoor shower, and beautifully landscaped grounds. This home is perfect for year-round living or as a vacation retreat.</p>
                    </div>
                </div>

                <!-- Property Details -->
                <div class="detail-section">
                    <h2 class="section-title">Property details</h2>
                    <div class="specs-grid">
                        <div class="spec-item">
                            <div class="spec-label">Property type</div>
                            <div class="spec-value">Single family home</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">Year built</div>
                            <div class="spec-value">2018</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">Lot size</div>
                            <div class="spec-value">0.25 acres</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">Parking</div>
                            <div class="spec-value">2-car garage</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">Heating</div>
                            <div class="spec-value">Central air/heat</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">Cooling</div>
                            <div class="spec-value">Central air</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">Property tax</div>
                            <div class="spec-value">$12,400/year</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">HOA fees</div>
                            <div class="spec-value">None</div>
                        </div>
                    </div>
                </div>

                <!-- Comparable Sales -->
                <div class="detail-section">
                    <h2 class="section-title">Recent comparable sales</h2>
                    <div class="comps-grid">
                        <div class="comp-item">
                            <div>
                                <div class="comp-address">125 Ocean View Drive</div>
                                <div class="comp-details">3 bed • 2 bath • 1,800 sqft</div>
                                <div class="comp-date">Sold 2 months ago</div>
                            </div>
                            <div class="comp-price">$475,000</div>
                        </div>
                        
                        <div class="comp-item">
                            <div>
                                <div class="comp-address">121 Ocean View Drive</div>
                                <div class="comp-details">3 bed • 2.5 bath • 1,900 sqft</div>
                                <div class="comp-date">Sold 3 months ago</div>
                            </div>
                            <div class="comp-price">$495,000</div>
                        </div>
                        
                        <div class="comp-item">
                            <div>
                                <div class="comp-address">119 Ocean View Drive</div>
                                <div class="comp-details">2 bed • 2 bath • 1,650 sqft</div>
                                <div class="comp-date">Sold 4 months ago</div>
                            </div>
                            <div class="comp-price">$425,000</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Price Section -->
                <div class="price-section">
                    <div class="property-price-large">$485,000</div>
                    <div class="price-details">$262 per sqft • Listed 3 days ago</div>
                    
                    <div class="fee-callout">
                        🎉 Your buyer fee: $0<br>
                        <small>Seller covers all fees!</small>
                    </div>
                </div>

                <!-- Pre-Approval Section -->
                <div class="preapproval-section">
                    <div class="preapproval-status">
                        <div class="status-indicator" id="approvalIndicator"></div>
                        <div class="status-text" id="approvalStatus">Not pre-approved</div>
                    </div>
                    <div class="status-subtext" id="approvalSubtext">
                        Get pre-approved to make competitive offers. Upload your existing letter or use our partner lenders.
                    </div>
                    
                    <div class="preapproval-benefits">
                        <div class="benefit-item">
                            ✓ Make offers with intelligent analysis
                        </div>
                        <div class="benefit-item">
                            ✓ See if your offer is weak/competitive/strong
                        </div>
                        <div class="benefit-item">
                            ✓ Upload existing letter or get approved here
                        </div>
                        <div class="benefit-item">
                            ✓ Connect with local lender partners
                        </div>
                    </div>
                    
                    <button class="action-btn" id="preapprovalBtn">🏦 Get Pre-Approved or Upload Letter</button>
                </div>

                <!-- Quick Facts -->
                <div class="detail-section">
                    <h3 class="section-title">Quick facts</h3>
                    <div class="specs-grid">
                        <div class="spec-item">
                            <div class="spec-label">Bedrooms</div>
                            <div class="spec-value">3</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">Bathrooms</div>
                            <div class="spec-value">2</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">Square feet</div>
                            <div class="spec-value">1,850</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-label">Days on market</div>
                            <div class="spec-value">3</div>
                        </div>
                    </div>
                </div>

                <!-- Seller Info -->
                <div class="detail-section">
                    <h3 class="section-title">Listed by</h3>
                    <div style="margin-bottom: 1rem;">
                        <div style="font-weight: 600; color: #1a1a1a; margin-bottom: 0.25rem;">Sarah Johnson</div>
                        <div style="color: #4a5568; font-size: 14px;">You're Home Direct Seller</div>
                        <div style="color: #4a5568; font-size: 14px;">⭐ 4.9 rating • 12 reviews</div>
                    </div>
                    
                    <div style="background: #f8fafc; padding: 1rem; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 1rem;">
                        <div style="font-size: 14px; color: #4a5568;">
                            "Professional and responsive seller. Quick to answer questions and very knowledgeable about the property."
                        </div>
                    </div>
                    
                    <button class="action-btn secondary" style="width: 100%;">📞 Call (609) 555-0123</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Buy</h4>
                    <a href="#">Search Homes</a>
                    <a href="#">Buyer Guide</a>
                    <a href="#">Financing</a>
                    <a href="#">Market Reports</a>
                </div>
                
                <div class="footer-section">
                    <h4>Sell</h4>
                    <a href="#">List Your Home</a>
                    <a href="#">Seller Guide</a>
                    <a href="#">Home Valuation</a>
                    <a href="#">Pricing Strategy</a>
                </div>
                
                <div class="footer-section">
                    <h4>Company</h4>
                    <a href="#">About Us</a>
                    <a href="#">How It Works</a>
                    <a href="#">Careers</a>
                    <a href="#">Press</a>
                </div>
                
                <div class="footer-section">
                    <h4>Support</h4>
                    <a href="#">Help Center</a>
                    <a href="#">Contact Us</a>
                    <a href="#">Legal</a>
                    <a href="#">Privacy</a>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 You're Home. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Include the property details JavaScript -->
    <script src="../js/utils/api.js"></script>
    <script src="../js/components/property-details.js"></script>
<!-- Add this BEFORE the closing </body> tag in your property-detail.html -->

<!-- Offer Modal -->
<div class="modal-overlay" id="offerModal">
    <div class="offer-modal">
        <div class="modal-header">
            <button class="modal-close" onclick="closeOfferModal()">×</button>
            <h2 class="modal-title">
                🏠 Submit Your Offer
            </h2>
            <p class="modal-subtitle">123 Ocean View Drive, Atlantic City, NJ</p>
        </div>

        <div class="modal-body">
            <!-- Pre-approval Display -->
            <div class="preapproval-display">
                <div class="approval-icon">✓</div>
                <div class="approval-details">
                    <div class="approval-amount" id="modalApprovalAmount">Pre-approved for $650,000</div>
                    <div class="approval-lender" id="modalApprovalLender">Atlantic Mortgage Group</div>
                </div>
            </div>

            <!-- Property Summary -->
            <div class="property-summary">
                <div class="property-row">
                    <span class="property-label">List Price:</span>
                    <span class="property-value">$485,000</span>
                </div>
                <div class="property-row">
                    <span class="property-label">Avg Comparable Sales:</span>
                    <span class="property-value">$465,000</span>
                </div>
                <div class="property-row">
                    <span class="property-label">Your Maximum Offer:</span>
                    <span class="property-value" id="modalMaxOffer">$650,000</span>
                </div>
            </div>

            <!-- Quick Offer Options -->
            <div class="quick-offers">
                <div class="quick-offers-title">Quick Offer Options</div>
                <div class="quick-offers-grid">
                    <div class="quick-offer-btn" onclick="selectQuickOffer(460000)">
                        <div class="quick-offer-amount">$460K</div>
                        <div class="quick-offer-percent">95% of list</div>
                    </div>
                    <div class="quick-offer-btn" onclick="selectQuickOffer(470000)">
                        <div class="quick-offer-amount">$470K</div>
                        <div class="quick-offer-percent">97% of list</div>
                    </div>
                    <div class="quick-offer-btn" onclick="selectQuickOffer(485000)">
                        <div class="quick-offer-amount">$485K</div>
                        <div class="quick-offer-percent">List price</div>
                    </div>
                </div>
            </div>

            <!-- Custom Offer Input -->
            <div class="custom-offer">
                <div class="custom-offer-title">Or enter your custom offer</div>
                <div class="offer-input-group">
                    <span class="input-currency">$</span>
                    <input 
                        type="text" 
                        class="offer-input" 
                        id="customOfferInput"
                        placeholder="Enter amount"
                        oninput="analyzeOfferAmount()"
                        onkeyup="formatCurrency(this)"
                    >
                </div>
            </div>

            <!-- Offer Analysis -->
            <div class="offer-analysis" id="offerAnalysis">
                <div class="analysis-header">
                    <span class="strength-icon" id="strengthIcon">🟡</span>
                    <span class="strength-badge" id="strengthBadge">FAIR</span>
                </div>
                
                <div class="analysis-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="listPercent">97%</div>
                        <div class="stat-label">of list price</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="compPercent">101%</div>
                        <div class="stat-label">of avg comps</div>
                    </div>
                </div>

                <div class="analysis-advice">
                    <p class="advice-text" id="adviceText">
                        This offer is competitive and should get serious consideration from the seller.
                    </p>
                </div>
            </div>

            <!-- Modal Actions -->
            <div class="modal-actions">
                <button class="btn-modal btn-secondary" onclick="closeOfferModal()">
                    Cancel
                </button>
                <button class="btn-modal btn-primary" id="submitOfferBtn" onclick="submitOfferFromModal()" disabled>
                    Submit Offer
                </button>
            </div>
        </div>
    </div>
</div>

<script src="/js/utils/api.js"></script>
<script>
// Initialize API and check auth on every page load
document.addEventListener('DOMContentLoaded', async function() {
    if (window.youreHomeAPI) {
        await window.youreHomeAPI.checkAuthStatus();
        console.log('Auth check complete, user:', window.youreHomeAPI.currentUser);
    }
});
</script>

<script src="/js/utils/navigation-fix.js"></script>

</body>
</html>